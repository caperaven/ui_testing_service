{
    "id": "Work Order Asset Lookup",
    "sequences": [
        {
            "caption": "TC1: Test whether inplace asset is visible on tree",
            "process": "main"
        }
    ],
    "main": {
        "steps": {
            "start": {
                "type": "perform",
                "action": "navigate",
                "args": {
                    "url": "https://onkeydev.pragmaproducts.com/contoso/daily/#dashboard/WorkOrder"
                },
                "next_step": "wait_for_create_button",
                "name": "start"
            },
            "wait_for_create_button": {
                "type": "wait",
                "action": "element",
                "args": {
                    "query": "#create"
                },
                "next_step": "click_create_button",
                "name": "wait_for_create_button"
            },
            "click_create_button": {
                "type": "perform",
                "action": "click",
                "args": {
                    "query": "#create"
                },
                "next_step": "wait_for_create_dialog",
                "name": "click_create_button"
            },
            "wait_for_create_dialog": {
                "type": "wait",
                "action": "attribute",
                "args": {
                    "query": "[data-template='WorkOrderCreate']",
                    "attr": "data-ready",
                    "value": "true"
                },
                "next_step": "wait_for_asset_lookup_button",
                "name": "wait_for_create_dialog"
            },
            "wait_for_asset_lookup_button": {
                "type": "wait",
                "action": "element",
                "args": {
                    "query": "[id='model.assetCode'] #btnTreeLookup"
                },
                "next_step": "click_asset_lookup_button",
                "name": "wait_for_asset_lookup_button"
            },
            "click_asset_lookup_button": {
                "type": "perform",
                "action": "click",
                "args": {
                    "query": "[id='model.assetCode'] #btnTreeLookup"
                },
                "next_step": "wait_for_asset_lookup_dialog",
                "name": "click_asset_lookup_button"
            },
            "wait_for_asset_lookup_dialog": {
                "type": "wait",
                "action": "attribute",
                "args": {
                    "query": "#asset-tree",
                    "attr": "status",
                    "value": "ready"
                },
                "next_step": "wait_for_asset",
                "name": "wait_for_asset_lookup_dialog"
            },
            "wait_for_asset": {
                "type": "wait",
                "action": "element",
                "args": {
                    "query": "[data-id='RegularAsset_5000001854']"
                },
                "next_step": "click_asset",
                "name": "wait_for_asset"
            },
            "click_asset": {
                "type": "perform",
                "action": "click",
                "args": {
                    "query": "[data-id='RegularAsset_5000001854'] .tree-item-actions"
                },
                "next_step": "wait_for_icon_value_to_be_inplace_asset",
                "name": "click_asset"
            },
            "wait_for_icon_value_to_be_inplace_asset": {
                "type": "wait",
                "action": "attribute",
                "args": {
                    "query": "[data-id='InPlaceAsset_5000001855'] .icon-container [icon='InPlaceAsset']",
                    "attr": "icon",
                    "value": "InPlaceAsset"
                },
                "next_step": "select_asset",
                "name": "wait_for_icon_value_to_be_inplace_asset"
            },
            "select_asset": {
                "type": "perform",
                "action": "dbl_click",
                "args": {
                    "query": "[data-id='InPlaceAsset_5000001855']"
                },
                "next_step": "wait_for_create_dialog_to_be_visible",
                "name": "select_asset"
            },
            "wait_for_create_dialog_to_be_visible": {
                "type": "wait",
                "action": "attribute",
                "args": {
                    "query": "[data-template='WorkOrderCreate']",
                    "attr": "data-ready",
                    "value": "true"
                },
                "next_step": "wait_for_asset_input_to_be_visible",
                "name": "wait_for_create_dialog_to_be_visible"
            },
            "wait_for_asset_input_to_be_visible": {
                "type": "wait",
                "action": "element",
                "args": {
                    "query": "[id='model.assetCode'] #lbl-assetCode"
                },
                "next_step": "wait_for_the_text_value_of_asset_input",
                "name": "wait_for_asset_input_to_be_visible"
            },
            "wait_for_the_text_value_of_asset_input": {
                "type": "wait",
                "action": "text_value",
                "args": {
                    "query": "[id='model.assetCode'] #lbl-assetCode",
                    "value": "AA_IN_PLACE (5000001855)",
                    "property": "value"
                },
                "name": "wait_for_the_text_value_of_asset_input"
            }
        }
    }
}